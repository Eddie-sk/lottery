{
  "version": 3,
  "sources": ["../../vue-input-filter/_build/index.js", "dep:vue-input-filter"],
  "sourcesContent": ["'use strict';\n\nvar letter = {\n    legalReg: [/^[a-zA-Z]{1,}$/],\n    legalKeyCodeRange: [\n        {\n            min: 65,\n            max: 90,\n        },\n    ],\n};\nvar number = {\n    legalReg: [/^[0-9]{1,}$/],\n    legalKeyCodeRange: [\n        {\n            min: 48,\n            max: 57,\n        },\n        {\n            min: 96,\n            max: 105,\n        }\n    ],\n};\nvar decimal = {\n    legalReg: [/[0-9.]{1,}$/],\n    legalKeyCode: [8, 32, 37, 38, 39, 40, 46, 190],\n    legalKeyCodeRange: [\n        {\n            min: 48,\n            max: 57,\n        },\n        {\n            min: 96,\n            max: 105,\n        },\n    ],\n};\nvar strategies = {\n    letter: letter,\n    number: number,\n    decimal: decimal,\n};\n\nvar defaultOptions = {\n    legalReg: [],\n    illegalReg: [],\n    legalKeyCode: [8, 32, 37, 38, 39, 40, 46],\n    legalKeyCodeRange: [],\n    illegalKeyCode: [],\n    illegalKeyCodeRange: [],\n};\nvar Filter = /** @class */ (function () {\n    function Filter(el, type, options) {\n        var _this = this;\n        this.filterStrategy = Object.assign({}, defaultOptions, options || strategies[type]);\n        this.oldText = '';\n        this.position = 0;\n        el.oninput = function () {\n            var text = el.value;\n            _this.filterInput(el, text);\n        };\n        el.onkeydown = function (event) {\n            _this.filterKeyCode(event);\n        };\n        el.onfocus = function () {\n            _this.position = el.selectionStart;\n            _this.oldText = el.value;\n        };\n    }\n    Filter.prototype.checkKeyCode = function (keyCode) {\n        var _a = this.filterStrategy, legalKeyCode = _a.legalKeyCode, legalKeyCodeRange = _a.legalKeyCodeRange, illegalKeyCode = _a.illegalKeyCode, illegalKeyCodeRange = _a.illegalKeyCodeRange;\n        if (legalKeyCode.length > 0 || legalKeyCodeRange.length > 0) {\n            if (legalKeyCode.some(function (code) {\n                return code === keyCode;\n            })) {\n                return true;\n            }\n            if (legalKeyCodeRange.some(function (range) {\n                return keyCode >= range.min && keyCode <= range.max;\n            })) {\n                return true;\n            }\n            return false;\n        }\n        else if (illegalKeyCode.length > 0 ||\n            illegalKeyCodeRange.length > 0) {\n            if (illegalKeyCode.some(function (code) {\n                return code === keyCode;\n            })) {\n                return false;\n            }\n            if (illegalKeyCodeRange.some(function (range) {\n                return keyCode >= range.min && keyCode <= range.max;\n            })) {\n                return false;\n            }\n            return true;\n        }\n        return true;\n    };\n    Filter.prototype.checkInput = function (input) {\n        var _a = this.filterStrategy, legalReg = _a.legalReg, illegalReg = _a.illegalReg;\n        if (legalReg.length > 0) {\n            // \u6B63\u5411\u5339\u914D\u6A21\u5F0F\uFF0C\u7B26\u5408\u6B63\u5219\u5339\u914D\u5219\u6B63\u786E\n            if (legalReg.some(function (reg) {\n                return reg.test(input);\n            })) {\n                return true;\n            }\n            return false;\n        }\n        else if (illegalReg.length > 0) {\n            // \u53CD\u5411\u5339\u914D\u6A21\u5F0F\uFF0C\u7B26\u5408\u6B63\u5219\u5339\u914D\u5219\u9519\u8BEF\n            if (illegalReg.some(function (reg) {\n                return reg.test(input);\n            })) {\n                return false;\n            }\n            return true;\n        }\n        return true;\n    };\n    Filter.prototype.filterInput = function (textarea, text) {\n        var _this = this;\n        if (text.length < this.oldText.length) {\n            this.oldText = text;\n            return;\n        }\n        var selectionStart = textarea.selectionStart, selectionEnd = textarea.selectionEnd;\n        if (selectionStart !== selectionEnd) {\n            // \u8F93\u5165\u4E2D\u6587\u65F6\n            this.position = selectionStart;\n            return;\n        }\n        var newInput = '';\n        if (selectionStart > text.length) {\n            // \u5728\u6587\u672C\u540E\u65B9\u8F93\u5165\n            newInput = text.substring(this.oldText.length);\n            this.position = selectionStart;\n        }\n        else {\n            // \u5728\u6587\u672C\u4E2D\u95F4\u8F93\u5165\n            if (selectionStart !== selectionEnd) {\n                // \u5982\u679C\u662F\u4E2D\u6587\u8F93\u5165\u6CD5\n                newInput = text.substring(selectionStart, selectionEnd);\n            }\n            else {\n                var inputLength = text.length - this.oldText.length;\n                newInput = text.substr(selectionStart - inputLength, inputLength);\n            }\n        }\n        var check = this.filterStrategy.oninput || this.checkInput;\n        var testResult = check.call(this, newInput) && check.call(this, text);\n        if (testResult) {\n            this.position = selectionStart;\n            this.oldText = text;\n        }\n        else {\n            if (selectionStart === selectionEnd) {\n                textarea.value = this.oldText;\n                setTimeout(function () {\n                    textarea.value = _this.oldText;\n                    textarea.setSelectionRange(_this.position, _this.position);\n                }, 0);\n            }\n        }\n    };\n    Filter.prototype.filterKeyCode = function (event) {\n        var keyCode = event.keyCode;\n        var check = this.filterStrategy.onkeydown || this.checkKeyCode;\n        if (!check.call(this, keyCode)) {\n            event.preventDefault();\n        }\n    };\n    return Filter;\n}());\n\nvar index = {\n    install: function (vue, options) {\n        vue.directive('input-filter', {\n            bind: function (el, binding, vnode) {\n                var defaultType = binding.arg || false;\n                var options = binding.value;\n                var filter = new Filter(el, defaultType, options);\n            },\n        });\n    },\n};\n\nmodule.exports = index;\n", "export default require(\"./node_modules/vue-input-filter/_build/index.js\");"],
  "mappings": "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",
  "names": []
}
